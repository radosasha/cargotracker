# üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏

## üìä –†–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –Ω–∞ —Ç–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ

### –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
- **CPU**: 10 cores
- **RAM**: 32 GB
- **–ü—Ä–æ–µ–∫—Ç**: 7 –º–æ–¥—É–ª–µ–π, 115 Kotlin —Ñ–∞–π–ª–æ–≤
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: KMP, Compose, Room, Ktor, Koin

---

## ‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –°–±–æ—Ä–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—Å–µ –∏–∑ –∫–µ—à–∞):
```bash
./gradlew assembleDebug
```
- **–í—Ä–µ–º—è**: 628 ms (0.6 —Å–µ–∫—É–Ω–¥—ã!)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 223 tasks UP-TO-DATE
- **–í—ã–≤–æ–¥**: Configuration Cache + Build Cache —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω–æ! ‚úÖ

---

### 2. –ß–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞ (–ø–æ—Å–ª–µ clean):
```bash
./gradlew clean assembleDebug
```
- **–í—Ä–µ–º—è**: ~52 —Å–µ–∫—É–Ω–¥—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 200 tasks EXECUTED, 14 FROM-CACHE
- **–í—ã–≤–æ–¥**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ 7 –º–æ–¥—É–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

---

## üéØ –ö–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –†–ï–ê–õ–¨–ù–û —Ä–∞–±–æ—Ç–∞—é—Ç

### ‚úÖ –ö–†–ò–¢–ò–ß–ù–´–ï (–¥–∞—é—Ç 80% —É—Å–∫–æ—Ä–µ–Ω–∏—è):

1. **`org.gradle.parallel=true`**
   - –¢–≤–æ–∏ 7 –º–æ–¥—É–ª–µ–π —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
   - domain, core:database, core:network, core:datastore - –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - **–≠—Ñ—Ñ–µ–∫—Ç**: 2-3x —É—Å–∫–æ—Ä–µ–Ω–∏–µ

2. **`org.gradle.configuration-cache=true`**
   - –ö–µ—à–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é 7 –º–æ–¥—É–ª–µ–π + buildSrc
   - **–≠—Ñ—Ñ–µ–∫—Ç**: 52s ‚Üí 0.6s –¥–ª—è —Å–±–æ—Ä–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (87x!)

3. **`org.gradle.caching=true`**
   - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ–∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
   - **–≠—Ñ—Ñ–µ–∫—Ç**: 14 tasks FROM-CACHE –¥–∞–∂–µ –ø–æ—Å–ª–µ clean

4. **`kotlin.incremental=true`**
   - –ü–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
   - **–≠—Ñ—Ñ–µ–∫—Ç**: 5-10x –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

5. **`org.gradle.workers.max=8`**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 8 –∏–∑ 10 —Ç–≤–æ–∏—Ö CPU cores
   - **–≠—Ñ—Ñ–µ–∫—Ç**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è

---

### ‚úÖ –í–ê–ñ–ù–´–ï (–¥–∞—é—Ç 15% —É—Å–∫–æ—Ä–µ–Ω–∏—è):

6. **`kotlin.caching.enabled=true`**
   - –ö–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã Kotlin –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–≤–æ–∏–º Kotlin 2.1.0

7. **`room.incremental=true` + `ksp.incremental=true`**
   - –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è core:database —Å Room
   - KSP —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ entity

8. **`android.nonTransitiveRClass=true`**
   - 7 –º–æ–¥—É–ª–µ–π = 7 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö R class
   - –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ R class

9. **`android.enableJetifier=false`**
   - –¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–æ–ª—å–∫–æ AndroidX
   - –≠–∫–æ–Ω–æ–º–∏—Ç 10-15 —Å–µ–∫—É–Ω–¥

---

### ‚úÖ –ü–û–õ–ï–ó–ù–´–ï (–¥–∞—é—Ç 5% —É—Å–∫–æ—Ä–µ–Ω–∏—è):

10. **`kotlin.native.cacheKind=static`**
    - –ö–µ—à–∏—Ä—É–µ—Ç iOS framework
    - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è iOS —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

11. **`kotlin.native.parallel.threads=8`**
    - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è iOS
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–≤–æ–∏ 10 cores

12. **`android.nonFinalResIds=true`**
    - –£—Å–∫–æ—Ä—è–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é
    - –†–∞–±–æ—Ç–∞–µ—Ç —Å nonTransitiveRClass

---

## üìà –ò—Ç–æ–≥–æ–≤—ã–µ —Ü–∏—Ñ—Ä—ã

| –°—Ü–µ–Ω–∞—Ä–∏–π | –í—Ä–µ–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –°–±–æ—Ä–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | **0.6 —Å–µ–∫** | 223 tasks UP-TO-DATE |
| –ß–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞ | **52 —Å–µ–∫** | 200 tasks EXECUTED |
| –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è (1 —Ñ–∞–π–ª) | **~5-10 —Å–µ–∫** | –¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å |
| DEV (—Ç–æ–ª—å–∫–æ Android) | **~30-40 —Å–µ–∫** | –ë–µ–∑ iOS –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |

---

## üèÜ –ì–ª–∞–≤–Ω—ã–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏

1. **Configuration Cache**: 52s ‚Üí 0.6s = **87x —É—Å–∫–æ—Ä–µ–Ω–∏–µ!** üöÄ
2. **Parallel Build**: 7 –º–æ–¥—É–ª–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ = **2-3x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** ‚ö°
3. **Build Cache**: 14 tasks FROM-CACHE = **—ç–∫–æ–Ω–æ–º–∏—è 10-15 —Å–µ–∫** üíæ
4. **Incremental**: —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã = **5-10x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** üéØ

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã:
```bash
./switch-profile.sh dev  # –¢–æ–ª—å–∫–æ Android
./gradlew assembleDebug  # ~30-40 —Å–µ–∫
```

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
```bash
./switch-profile.sh prod  # Android + iOS
./gradlew build          # ~2-3 –º–∏–Ω
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:
- –†–∞–±–æ—Ç–∞–π –≤ DEV –ø—Ä–æ—Ñ–∏–ª–µ
- –ù–µ –∑–∞–ø—É—Å–∫–∞–π `clean` –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π `assembleDebug` –≤–º–µ—Å—Ç–æ `build` (–±–µ–∑ —Ç–µ—Å—Ç–æ–≤)

---

## üéì –í—ã–≤–æ–¥—ã

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `gradle-prod.properties` **–ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç** –Ω–∞ —Ç–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ:
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–±–æ—Ä–∫–∞–º–∏
- ‚úÖ –ü–æ–¥–æ–±—Ä–∞–Ω—ã –ø–æ–¥ —Ç–≤–æ–µ –∂–µ–ª–µ–∑–æ (10 cores, 32GB RAM)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ç–≤–æ–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (7 –º–æ–¥—É–ª–µ–π, Clean Architecture)
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Ç–≤–æ–∏–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏ (KMP, Room, Compose)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–±–æ—Ä–∫–∞ —É—Å–∫–æ—Ä–µ–Ω–∞ –≤ **2-87 —Ä–∞–∑** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è! üéâ
