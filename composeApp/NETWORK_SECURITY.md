# Network Security Configuration

## üìÅ –§–∞–π–ª—ã

### Debug Build
- **–§–∞–π–ª:** `res/xml/network_security_config.xml`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –†–∞–∑—Ä–µ—à–∞–µ—Ç HTTP –¥–ª—è **–í–°–ï–•** –¥–æ–º–µ–Ω–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** ‚ö†Ô∏è –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ production!

```xml
<base-config cleartextTrafficPermitted="true"/>
```

### Release Build
- **–§–∞–π–ª:** `res/xml/network_security_config_release.xml`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –†–∞–∑—Ä–µ—à–∞–µ—Ç HTTP —Ç–æ–ª—å–∫–æ –¥–ª—è **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö** –¥–æ–º–µ–Ω–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–ª—è production —Å–±–æ—Ä–∫–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è production

```xml
<domain-config cleartextTrafficPermitted="true">
    <domain includeSubdomains="false">demo.traccar.org</domain>
</domain-config>
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Source Sets

Android –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç build type:

**Debug:** `src/debug/AndroidManifest.xml`
```xml
<application
    android:networkSecurityConfig="@xml/network_security_config" />
```

**Release:** `src/release/AndroidManifest.xml`
```xml
<application
    android:networkSecurityConfig="@xml/network_security_config_release" />
```

**Main:** `src/androidMain/AndroidManifest.xml`
- –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Build-specific –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ—Ä–∂–∞—Ç—Å—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Debug (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
```bash
./gradlew :composeApp:assembleDebug
```
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ IP (192.168.31.*, 10.0.0.*, –∏ —Ç.–¥.)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å localhost, 127.0.0.1, 10.0.2.2
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ HTTP —Å–µ—Ä–≤–µ—Ä–∞–º–∏

### Release (production)
```bash
./gradlew :composeApp:assembleRelease
```
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å demo.traccar.org
- ‚ö†Ô∏è –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ production —Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å–≤–æ–π production —Å–µ—Ä–≤–µ—Ä, –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `network_security_config_release.xml`:

```xml
<domain-config cleartextTrafficPermitted="true">
    <domain includeSubdomains="false">your-server.com</domain>
</domain-config>
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Debug
- **–†–∏—Å–∫:** –†–∞–∑—Ä–µ—à–∞–µ—Ç –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP —Ç—Ä–∞—Ñ–∏–∫ –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
- **–ó–∞—â–∏—Ç–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ debug —Å–±–æ—Ä–∫–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Play Store
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ debug APK –Ω–∞ production —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### Release
- **–†–∏—Å–∫:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, —Ä–∞–∑—Ä–µ—à–µ–Ω HTTP —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- **–ó–∞—â–∏—Ç–∞:** –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç HTTPS
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è production —Å–µ—Ä–≤–µ—Ä–æ–≤

## üéØ Best Practices

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ debug —Å–±–æ—Ä–∫—É —Å –ø–æ–ª–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ HTTP
2. **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ debug —Å–±–æ—Ä–∫—É –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
3. **–î–ª—è production:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ release —Å–±–æ—Ä–∫—É —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –¥–æ–º–µ–Ω–æ–≤
4. **–î–ª—è production —Å–µ—Ä–≤–µ—Ä–æ–≤:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS –∏ —É–¥–∞–ª–∏—Ç–µ HTTP –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ HTTPS

–ö–æ–≥–¥–∞ –≤–∞—à production —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ —Å HTTPS, –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ –∏–∑ `network_security_config_release.xml`:

```xml
<!-- –£–¥–∞–ª–∏—Ç–µ —ç—Ç—É —Å–µ–∫—Ü–∏—é, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ HTTPS -->
<domain-config cleartextTrafficPermitted="true">
    <domain includeSubdomains="false">your-server.com</domain>
</domain-config>
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

